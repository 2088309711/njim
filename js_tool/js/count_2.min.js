var cookie_prefix="count_2_";var stopStr="--";$(function(){load_cookie("num");load_cookie("add");load_cookie("max");load_cookie("type");load_cookie("method");$("#num").blur(function(){ckNum("num")});$("#add").blur(function(){ckNum("add")});$("#max").blur(function(){ckNum("max")});$(":radio").click(function(){set_cookie($(this).attr("name"),$(this).val())});$("#count").click(function(){if(!confirm("确定计算结果？")){return}var d=parseInt($("#num").val());var f=parseInt($("#max").val());if(d>=f){alert("基础大小不能大于等于封顶数额")}var g=$("#result").val();var k=g.split(/[\n]/);if(k.length<2){alert("结果必须输入2次");return}var b=[];for(var c=0;c<k.length;c++){var h=k[c].split(/[ ]+/);var e="";for(var a=0;a<h.length;a++){if(h[a].length>0){e+=h[a]+"-"}}e=e.substr(0,e.length-1);b.push(e)}if(b[0]===b[1]){show_result(b[0])}else{alert("2次结果不一致")}});$("#clear").click(function(){if(!confirm("确定清空输入内容？")){return}$("#result").val("")});$("#start").click(function(){if(!confirm("确定重新开局？")){return}var a=parseInt($("#num").val());vueObj.trs=[[a,a,a,a,a,a,a,a,a,a]]})});function ckNum(a){var d=$("#"+a);var c=trim(d.val());if(/^[0-9]+$/.test(c)){d.val(c);set_cookie(a,c)}else{var b=get_cookie(a);d.val(b)}}function trim(a){return a.replace(/(^\s*)|(\s*$)/g,"")}var vueObj=new Vue({el:"#vue-node",data:{trs:[]},methods:{trClass:function(a){if(a===0){return{cur:true}}},tdClass:function(a){if(a%2!==0){return{bg:true}}}}});function show_result(d){var h=d.split("-");var j=$("input[name='type']:checked").val();var a=$("input[name='method']:checked").val();var f=vueObj.trs[0];if(f==null||f.length<h.length){return}var e=parseInt($("#num").val());var m=parseInt($("#add").val());var k=parseInt($("#max").val());var c=[stopStr,stopStr,stopStr,stopStr,stopStr,stopStr,stopStr,stopStr,stopStr,stopStr];for(var b=0;b<h.length;b++){var g;switch(j){case"1":g=parseInt(h[b])>5;break;case"2":g=parseInt(h[b])<6;break;case"3":g=parseInt(h[b])%2!=0;break;case"4":g=parseInt(h[b])%2==0;break}if(g){if(a=="1"){c[b]=e}}else{var l;if(f[b]==stopStr){l=stopStr}else{if(f[b]*2+m>k){l=e}else{l=f[b]*2+m}}c[b]=l}}vueObj.trs.unshift(c)}function load_cookie(a){switch(a){case"type":case"method":var b=get_cookie(a);$("input[name='"+a+"'][value='"+b+"']").attr("checked",true);break;default:var b=get_cookie(a);if(b!=""){$("#"+a).val(b)}break}}function set_cookie(a,b){var c=new Date();c.setDate(c.getDate()+90);document.cookie=cookie_prefix+a+"="+escape(b)+";expires="+c.toGMTString()+";path=/"}function get_cookie(b){if(document.cookie.length>0){var c=document.cookie.indexOf(cookie_prefix+b+"=");if(c!=-1){c=c+(cookie_prefix+b).length+1;var a=document.cookie.indexOf(";",c);if(a==-1){a=document.cookie.length}return unescape(document.cookie.substring(c,a))}}return""}function log(a){console.log(a)};